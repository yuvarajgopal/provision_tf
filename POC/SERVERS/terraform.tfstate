{
    "version": 1,
    "serial": 96,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {}
        },
        {
            "path": [
                "root",
                "camp"
            ],
            "outputs": {
                "sg_name": "Analytics-camp"
            },
            "resources": {
                "openstack_blockstorage_volume_v1.2vol_1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "8a61d8f9-6677-4635-939f-69629687484f",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on camp01",
                            "id": "8a61d8f9-6677-4635-939f-69629687484f",
                            "metadata.#": "0",
                            "name": " on camp01",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "8f144f87-76b0-4b29-ad8d-c3decad978e2",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on camp01",
                            "id": "8f144f87-76b0-4b29-ad8d-c3decad978e2",
                            "metadata.#": "0",
                            "name": " on camp01",
                            "region": "RegionOne",
                            "size": "450",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "ab362241-399a-4ca9-bf2b-95df79256a01",
                        "attributes": {
                            "access_ip_v4": "10.48.22.82",
                            "access_ip_v6": "",
                            "flavor_id": "116",
                            "flavor_name": "m4.2xlarge",
                            "id": "ab362241-399a-4ca9-bf2b-95df79256a01",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "camp01",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.82",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:47:20:17",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.3768487908.build_near_host_ip": "",
                            "scheduler_hints.3768487908.different_host.#": "0",
                            "scheduler_hints.3768487908.group": "7d4213ba-b814-4101-a658-c83562e00874",
                            "scheduler_hints.3768487908.query.#": "0",
                            "scheduler_hints.3768487908.same_host.#": "0",
                            "scheduler_hints.3768487908.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.2533311907": "Analytics-camp",
                            "security_groups.3814588639": "default",
                            "user_data": "cfeaaf12bcb9831e1faaf6f74933f37f84db4cca",
                            "volume.#": "2",
                            "volume.1603678381.device": "/dev/vdb",
                            "volume.1603678381.id": "8f144f87-76b0-4b29-ad8d-c3decad978e2",
                            "volume.1603678381.volume_id": "8f144f87-76b0-4b29-ad8d-c3decad978e2",
                            "volume.2598290036.device": "/dev/vdc",
                            "volume.2598290036.id": "8a61d8f9-6677-4635-939f-69629687484f",
                            "volume.2598290036.volume_id": "8a61d8f9-6677-4635-939f-69629687484f"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.my_sg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "607df187-d6f9-40ce-84fe-3852a2632137",
                        "attributes": {
                            "description": "Security Group Via Terraform",
                            "id": "607df187-d6f9-40ce-84fe-3852a2632137",
                            "name": "Analytics-camp",
                            "region": "RegionOne",
                            "rule.#": "0"
                        }
                    }
                },
                "openstack_compute_servergroup_v2.server": {
                    "type": "openstack_compute_servergroup_v2",
                    "primary": {
                        "id": "7d4213ba-b814-4101-a658-c83562e00874",
                        "attributes": {
                            "id": "7d4213ba-b814-4101-a658-c83562e00874",
                            "members.#": "0",
                            "name": "Analytics-camp",
                            "policies.#": "1",
                            "policies.0": "anti-affinity",
                            "region": "RegionOne"
                        }
                    }
                },
                "powerdns_record.server_2vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "camp01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1800827280": "10.48.22.82",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "camp01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1800827280": "10.48.22.82",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "camp01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1800827280": "10.48.22.82",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "camp01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1800827280": "10.48.22.82",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "camp01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1800827280": "10.48.22.82",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "camp01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1800827280": "10.48.22.82",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "camp01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "camp01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1800827280": "10.48.22.82",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "template_file.script_variables_server_2vol": {
                    "type": "template_file",
                    "primary": {
                        "id": "f0986849f2ce404aebef5c582519b1f0f706dc51b1bde2eebada75d22d756f31",
                        "attributes": {
                            "id": "f0986849f2ce404aebef5c582519b1f0f706dc51b1bde2eebada75d22d756f31",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=camp\nNODEINDEX=1\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "1",
                            "vars.NODENAME": "camp"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "db"
            ],
            "outputs": {
                "fip1": "",
                "fip2": "",
                "fip3": "",
                "sg_name": ""
            },
            "resources": {}
        },
        {
            "path": [
                "root",
                "es"
            ],
            "outputs": {
                "fip1": "",
                "fip2": "",
                "fip3": "",
                "sg_name": ""
            },
            "resources": {}
        },
        {
            "path": [
                "root",
                "ftp"
            ],
            "outputs": {
                "sg_name": "Analytics-ftp"
            },
            "resources": {
                "openstack_blockstorage_volume_v1.3vol_1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "a3aabd3c-b251-47d6-9cbd-760bd21a93b5",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on ftp01",
                            "id": "a3aabd3c-b251-47d6-9cbd-760bd21a93b5",
                            "metadata.#": "0",
                            "name": " on ftp01",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.3vol_2": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.3vol_1"
                    ],
                    "primary": {
                        "id": "03ce41a3-fb25-4917-b0f7-1aaefa0f2e26",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on ftp01",
                            "id": "03ce41a3-fb25-4917-b0f7-1aaefa0f2e26",
                            "metadata.#": "0",
                            "name": " on ftp01",
                            "region": "RegionOne",
                            "size": "500",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.3vol_3": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.3vol_1"
                    ],
                    "primary": {
                        "id": "9a7c546a-1935-4ae2-b732-75535ec33ee1",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on ftp01",
                            "id": "9a7c546a-1935-4ae2-b732-75535ec33ee1",
                            "metadata.#": "0",
                            "name": " on ftp01",
                            "region": "RegionOne",
                            "size": "500",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_compute_instance_v2.server_3vol": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.3vol_1",
                        "openstack_blockstorage_volume_v1.3vol_2",
                        "openstack_blockstorage_volume_v1.3vol_3",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_3vol"
                    ],
                    "primary": {
                        "id": "5890975f-8124-4253-9112-b03fa7173d0c",
                        "attributes": {
                            "access_ip_v4": "10.48.22.83",
                            "access_ip_v6": "",
                            "flavor_id": "114",
                            "flavor_name": "m1.xlarge",
                            "id": "5890975f-8124-4253-9112-b03fa7173d0c",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "ftp01",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.83",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:9d:fb:1c",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.1273148704.build_near_host_ip": "",
                            "scheduler_hints.1273148704.different_host.#": "0",
                            "scheduler_hints.1273148704.group": "95d5b88f-f622-4ec5-b089-308a3263b33c",
                            "scheduler_hints.1273148704.query.#": "0",
                            "scheduler_hints.1273148704.same_host.#": "0",
                            "scheduler_hints.1273148704.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.2885621050": "Analytics-ftp",
                            "security_groups.3814588639": "default",
                            "user_data": "f6255e178bbfce9c99f3be8f58985cd930115002",
                            "volume.#": "3",
                            "volume.1855213488.device": "/dev/vdb",
                            "volume.1855213488.id": "a3aabd3c-b251-47d6-9cbd-760bd21a93b5",
                            "volume.1855213488.volume_id": "a3aabd3c-b251-47d6-9cbd-760bd21a93b5",
                            "volume.2526213178.device": "/dev/vdc",
                            "volume.2526213178.id": "03ce41a3-fb25-4917-b0f7-1aaefa0f2e26",
                            "volume.2526213178.volume_id": "03ce41a3-fb25-4917-b0f7-1aaefa0f2e26",
                            "volume.3795328977.device": "/dev/vdd",
                            "volume.3795328977.id": "9a7c546a-1935-4ae2-b732-75535ec33ee1",
                            "volume.3795328977.volume_id": "9a7c546a-1935-4ae2-b732-75535ec33ee1"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.my_sg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "566280c0-ef57-44db-8f84-b1ca4876ef0c",
                        "attributes": {
                            "description": "Security Group Via Terraform",
                            "id": "566280c0-ef57-44db-8f84-b1ca4876ef0c",
                            "name": "Analytics-ftp",
                            "region": "RegionOne",
                            "rule.#": "0"
                        }
                    }
                },
                "openstack_compute_servergroup_v2.server": {
                    "type": "openstack_compute_servergroup_v2",
                    "primary": {
                        "id": "95d5b88f-f622-4ec5-b089-308a3263b33c",
                        "attributes": {
                            "id": "95d5b88f-f622-4ec5-b089-308a3263b33c",
                            "members.#": "0",
                            "name": "Analytics-ftp",
                            "policies.#": "1",
                            "policies.0": "anti-affinity",
                            "region": "RegionOne"
                        }
                    }
                },
                "template_file.script_variables_server_3vol": {
                    "type": "template_file",
                    "primary": {
                        "id": "ee90239531bba28c9707aff141be03d85f6a63c8ab37d890b9d2b07215cd2ec1",
                        "attributes": {
                            "id": "ee90239531bba28c9707aff141be03d85f6a63c8ab37d890b9d2b07215cd2ec1",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=ftp\nNODEINDEX=1\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "1",
                            "vars.NODENAME": "ftp"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "jumpbox"
            ],
            "outputs": {
                "sg_name": "Analytics-jumpbox"
            },
            "resources": {
                "openstack_blockstorage_volume_v1.2vol_1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "dd70a6f5-13b1-422a-9f78-acc7424d7a9d",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on jumpbox01",
                            "id": "dd70a6f5-13b1-422a-9f78-acc7424d7a9d",
                            "metadata.#": "0",
                            "name": " on jumpbox01",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "cdfc95da-c618-45e6-ba36-f835efec8863",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on jumpbox01",
                            "id": "cdfc95da-c618-45e6-ba36-f835efec8863",
                            "metadata.#": "0",
                            "name": " on jumpbox01",
                            "region": "RegionOne",
                            "size": "100",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "5139ee8f-01f9-44bf-9686-6425d6c9ae88",
                        "attributes": {
                            "access_ip_v4": "10.48.22.90",
                            "access_ip_v6": "",
                            "flavor_id": "116",
                            "flavor_name": "m4.2xlarge",
                            "id": "5139ee8f-01f9-44bf-9686-6425d6c9ae88",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "jumpbox01",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.90",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:3a:aa:a4",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.2043409141.build_near_host_ip": "",
                            "scheduler_hints.2043409141.different_host.#": "0",
                            "scheduler_hints.2043409141.group": "5e880f93-3cbe-4094-8eee-ee3571f04c76",
                            "scheduler_hints.2043409141.query.#": "0",
                            "scheduler_hints.2043409141.same_host.#": "0",
                            "scheduler_hints.2043409141.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.2118449670": "Analytics-jumpbox",
                            "security_groups.3814588639": "default",
                            "user_data": "4f6aa1f3b09206b6f86297d8f163b0a32750ccdd",
                            "volume.#": "2",
                            "volume.165395205.device": "/dev/vdb",
                            "volume.165395205.id": "dd70a6f5-13b1-422a-9f78-acc7424d7a9d",
                            "volume.165395205.volume_id": "dd70a6f5-13b1-422a-9f78-acc7424d7a9d",
                            "volume.2618434062.device": "/dev/vdc",
                            "volume.2618434062.id": "cdfc95da-c618-45e6-ba36-f835efec8863",
                            "volume.2618434062.volume_id": "cdfc95da-c618-45e6-ba36-f835efec8863"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.my_sg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "0e9abcf8-0d10-4c50-bdf3-e155d80dbacb",
                        "attributes": {
                            "description": "Security Group Via Terraform",
                            "id": "0e9abcf8-0d10-4c50-bdf3-e155d80dbacb",
                            "name": "Analytics-jumpbox",
                            "region": "RegionOne",
                            "rule.#": "0"
                        }
                    }
                },
                "openstack_compute_servergroup_v2.server": {
                    "type": "openstack_compute_servergroup_v2",
                    "primary": {
                        "id": "5e880f93-3cbe-4094-8eee-ee3571f04c76",
                        "attributes": {
                            "id": "5e880f93-3cbe-4094-8eee-ee3571f04c76",
                            "members.#": "0",
                            "name": "Analytics-jumpbox",
                            "policies.#": "1",
                            "policies.0": "anti-affinity",
                            "region": "RegionOne"
                        }
                    }
                },
                "powerdns_record.server_2vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "jumpbox01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2621645309": "10.48.22.90",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "jumpbox01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2621645309": "10.48.22.90",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "jumpbox01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2621645309": "10.48.22.90",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "jumpbox01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2621645309": "10.48.22.90",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "jumpbox01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2621645309": "10.48.22.90",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "jumpbox01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2621645309": "10.48.22.90",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "jumpbox01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "jumpbox01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2621645309": "10.48.22.90",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "template_file.script_variables_server_2vol": {
                    "type": "template_file",
                    "primary": {
                        "id": "23091cbb3e52b9b0beb028405a3cc165866b144bec77ea13b8cd0cf120a6366c",
                        "attributes": {
                            "id": "23091cbb3e52b9b0beb028405a3cc165866b144bec77ea13b8cd0cf120a6366c",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=jumpbox\nNODEINDEX=1\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "1",
                            "vars.NODENAME": "jumpbox"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "mapr"
            ],
            "outputs": {
                "fip1": "",
                "fip2": "",
                "fip3": "",
                "sg_name": ""
            },
            "resources": {}
        },
        {
            "path": [
                "root",
                "mito"
            ],
            "outputs": {
                "sg_name": "Analytics-mito"
            },
            "resources": {
                "openstack_blockstorage_volume_v1.2vol_1.0": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "b2dc4268-ca27-4024-bdf0-aefbe4d74d20",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on mito01",
                            "id": "b2dc4268-ca27-4024-bdf0-aefbe4d74d20",
                            "metadata.#": "0",
                            "name": " on mito01",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_1.1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "59cdf4b5-4709-45fc-8341-37ec49b1f9d3",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on mito02",
                            "id": "59cdf4b5-4709-45fc-8341-37ec49b1f9d3",
                            "metadata.#": "0",
                            "name": " on mito02",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2.0": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "7fdffe91-5f36-451c-a6ad-658c256694df",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on mito01",
                            "id": "7fdffe91-5f36-451c-a6ad-658c256694df",
                            "metadata.#": "0",
                            "name": " on mito01",
                            "region": "RegionOne",
                            "size": "100",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2.1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "0bf7dd2a-962a-49db-839e-0fcc11636ec1",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on mito02",
                            "id": "0bf7dd2a-962a-49db-839e-0fcc11636ec1",
                            "metadata.#": "0",
                            "name": " on mito02",
                            "region": "RegionOne",
                            "size": "100",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol.0": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "0124aeab-a33d-443c-951a-38dc76f38b04",
                        "attributes": {
                            "access_ip_v4": "10.48.22.91",
                            "access_ip_v6": "",
                            "flavor_id": "116",
                            "flavor_name": "m4.2xlarge",
                            "id": "0124aeab-a33d-443c-951a-38dc76f38b04",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "mito01",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.91",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:49:eb:cf",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.3959114628.build_near_host_ip": "",
                            "scheduler_hints.3959114628.different_host.#": "0",
                            "scheduler_hints.3959114628.group": "ee20ffab-e60f-430f-bdfb-96dff6a1d549",
                            "scheduler_hints.3959114628.query.#": "0",
                            "scheduler_hints.3959114628.same_host.#": "0",
                            "scheduler_hints.3959114628.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.1849411525": "Analytics-mito",
                            "security_groups.3814588639": "default",
                            "user_data": "c01e6ce1289869c5f3ef0a7d29b7ad4379cab6dc",
                            "volume.#": "2",
                            "volume.3161613141.device": "/dev/vdb",
                            "volume.3161613141.id": "7fdffe91-5f36-451c-a6ad-658c256694df",
                            "volume.3161613141.volume_id": "7fdffe91-5f36-451c-a6ad-658c256694df",
                            "volume.604900592.device": "/dev/vdc",
                            "volume.604900592.id": "b2dc4268-ca27-4024-bdf0-aefbe4d74d20",
                            "volume.604900592.volume_id": "b2dc4268-ca27-4024-bdf0-aefbe4d74d20"
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol.1": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "51fd8f69-9adb-4296-8cc1-8a3ec668ac95",
                        "attributes": {
                            "access_ip_v4": "10.48.22.92",
                            "access_ip_v6": "",
                            "flavor_id": "116",
                            "flavor_name": "m4.2xlarge",
                            "id": "51fd8f69-9adb-4296-8cc1-8a3ec668ac95",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "mito02",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.92",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:62:09:8f",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.3959114628.build_near_host_ip": "",
                            "scheduler_hints.3959114628.different_host.#": "0",
                            "scheduler_hints.3959114628.group": "ee20ffab-e60f-430f-bdfb-96dff6a1d549",
                            "scheduler_hints.3959114628.query.#": "0",
                            "scheduler_hints.3959114628.same_host.#": "0",
                            "scheduler_hints.3959114628.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.1849411525": "Analytics-mito",
                            "security_groups.3814588639": "default",
                            "user_data": "3bb371db9cec39edf35996a8d35f5823fe4a419f",
                            "volume.#": "2",
                            "volume.3124539444.device": "/dev/vdb",
                            "volume.3124539444.id": "0bf7dd2a-962a-49db-839e-0fcc11636ec1",
                            "volume.3124539444.volume_id": "0bf7dd2a-962a-49db-839e-0fcc11636ec1",
                            "volume.3730851894.device": "/dev/vdc",
                            "volume.3730851894.id": "59cdf4b5-4709-45fc-8341-37ec49b1f9d3",
                            "volume.3730851894.volume_id": "59cdf4b5-4709-45fc-8341-37ec49b1f9d3"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.my_sg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "e51c23e1-f166-4385-80be-7f79ef9f3999",
                        "attributes": {
                            "description": "Security Group Via Terraform",
                            "id": "e51c23e1-f166-4385-80be-7f79ef9f3999",
                            "name": "Analytics-mito",
                            "region": "RegionOne",
                            "rule.#": "0"
                        }
                    }
                },
                "openstack_compute_servergroup_v2.server": {
                    "type": "openstack_compute_servergroup_v2",
                    "primary": {
                        "id": "ee20ffab-e60f-430f-bdfb-96dff6a1d549",
                        "attributes": {
                            "id": "ee20ffab-e60f-430f-bdfb-96dff6a1d549",
                            "members.#": "0",
                            "name": "Analytics-mito",
                            "policies.#": "1",
                            "policies.0": "anti-affinity",
                            "region": "RegionOne"
                        }
                    }
                },
                "powerdns_record.server_2vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3947106667": "10.48.22.91",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_2vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1917665489": "10.48.22.92",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3947106667": "10.48.22.91",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1917665489": "10.48.22.92",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3947106667": "10.48.22.91",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1917665489": "10.48.22.92",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3947106667": "10.48.22.91",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1917665489": "10.48.22.92",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3947106667": "10.48.22.91",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1917665489": "10.48.22.92",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3947106667": "10.48.22.91",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1917665489": "10.48.22.92",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3947106667": "10.48.22.91",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "mito02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "mito02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1917665489": "10.48.22.92",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "template_file.script_variables_server_2vol.0": {
                    "type": "template_file",
                    "primary": {
                        "id": "604344c4e8ed5682f6635dbc095f5c12a09259514b3c2e0c413071698672bc86",
                        "attributes": {
                            "id": "604344c4e8ed5682f6635dbc095f5c12a09259514b3c2e0c413071698672bc86",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=mito\nNODEINDEX=1\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "1",
                            "vars.NODENAME": "mito"
                        }
                    }
                },
                "template_file.script_variables_server_2vol.1": {
                    "type": "template_file",
                    "primary": {
                        "id": "c951f0ef27b396b491c5bb1a90cf8354a91bb54dba4dfb01dcf81d018a4e6ca2",
                        "attributes": {
                            "id": "c951f0ef27b396b491c5bb1a90cf8354a91bb54dba4dfb01dcf81d018a4e6ca2",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=mito\nNODEINDEX=2\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "2",
                            "vars.NODENAME": "mito"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "mq"
            ],
            "outputs": {
                "sg_name": "Analytics-activemq"
            },
            "resources": {
                "openstack_blockstorage_volume_v1.2vol_1.0": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "c0e614f7-ad5a-4436-ab1f-3d9ea7285642",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on activemq01",
                            "id": "c0e614f7-ad5a-4436-ab1f-3d9ea7285642",
                            "metadata.#": "0",
                            "name": " on activemq01",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_1.1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "c74ed4d0-0685-4552-ae89-bc33e6957bf9",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on activemq02",
                            "id": "c74ed4d0-0685-4552-ae89-bc33e6957bf9",
                            "metadata.#": "0",
                            "name": " on activemq02",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2.0": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "ea21056f-63c0-4bc9-8acd-fc0b69ed83c0",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on activemq01",
                            "id": "ea21056f-63c0-4bc9-8acd-fc0b69ed83c0",
                            "metadata.#": "0",
                            "name": " on activemq01",
                            "region": "RegionOne",
                            "size": "100",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2.1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "e70183e5-f6c7-467c-8ec3-e7d90b85c1f7",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on activemq02",
                            "id": "e70183e5-f6c7-467c-8ec3-e7d90b85c1f7",
                            "metadata.#": "0",
                            "name": " on activemq02",
                            "region": "RegionOne",
                            "size": "100",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol.0": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "a9db9101-06c4-4ee5-9c46-29e770f0e611",
                        "attributes": {
                            "access_ip_v4": "10.48.22.88",
                            "access_ip_v6": "",
                            "flavor_id": "114",
                            "flavor_name": "m1.xlarge",
                            "id": "a9db9101-06c4-4ee5-9c46-29e770f0e611",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "activemq01",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.88",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:50:2f:b2",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.2470036699.build_near_host_ip": "",
                            "scheduler_hints.2470036699.different_host.#": "0",
                            "scheduler_hints.2470036699.group": "29fb06be-f6ec-435e-b818-c4d2eacba121",
                            "scheduler_hints.2470036699.query.#": "0",
                            "scheduler_hints.2470036699.same_host.#": "0",
                            "scheduler_hints.2470036699.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.3814588639": "default",
                            "security_groups.3909746656": "Analytics-activemq",
                            "user_data": "b1d43b3fb6f860ab8e1d18c4e7a358458412459a",
                            "volume.#": "2",
                            "volume.1104354764.device": "/dev/vdb",
                            "volume.1104354764.id": "ea21056f-63c0-4bc9-8acd-fc0b69ed83c0",
                            "volume.1104354764.volume_id": "ea21056f-63c0-4bc9-8acd-fc0b69ed83c0",
                            "volume.622204470.device": "/dev/vdc",
                            "volume.622204470.id": "c0e614f7-ad5a-4436-ab1f-3d9ea7285642",
                            "volume.622204470.volume_id": "c0e614f7-ad5a-4436-ab1f-3d9ea7285642"
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol.1": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "1f5c6195-70d4-4182-b9ae-04b20a247db7",
                        "attributes": {
                            "access_ip_v4": "10.48.22.87",
                            "access_ip_v6": "",
                            "flavor_id": "114",
                            "flavor_name": "m1.xlarge",
                            "id": "1f5c6195-70d4-4182-b9ae-04b20a247db7",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "activemq02",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.87",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:37:34:40",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.2470036699.build_near_host_ip": "",
                            "scheduler_hints.2470036699.different_host.#": "0",
                            "scheduler_hints.2470036699.group": "29fb06be-f6ec-435e-b818-c4d2eacba121",
                            "scheduler_hints.2470036699.query.#": "0",
                            "scheduler_hints.2470036699.same_host.#": "0",
                            "scheduler_hints.2470036699.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.3814588639": "default",
                            "security_groups.3909746656": "Analytics-activemq",
                            "user_data": "41d56d7214b78f50471924e86416dd7784caf9c4",
                            "volume.#": "2",
                            "volume.2106618955.device": "/dev/vdb",
                            "volume.2106618955.id": "e70183e5-f6c7-467c-8ec3-e7d90b85c1f7",
                            "volume.2106618955.volume_id": "e70183e5-f6c7-467c-8ec3-e7d90b85c1f7",
                            "volume.3145886188.device": "/dev/vdc",
                            "volume.3145886188.id": "c74ed4d0-0685-4552-ae89-bc33e6957bf9",
                            "volume.3145886188.volume_id": "c74ed4d0-0685-4552-ae89-bc33e6957bf9"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.my_sg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "05541ff3-b153-4c40-aedc-2ae1079066ac",
                        "attributes": {
                            "description": "Security Group Via Terraform",
                            "id": "05541ff3-b153-4c40-aedc-2ae1079066ac",
                            "name": "Analytics-activemq",
                            "region": "RegionOne",
                            "rule.#": "0"
                        }
                    }
                },
                "openstack_compute_servergroup_v2.server": {
                    "type": "openstack_compute_servergroup_v2",
                    "primary": {
                        "id": "29fb06be-f6ec-435e-b818-c4d2eacba121",
                        "attributes": {
                            "id": "29fb06be-f6ec-435e-b818-c4d2eacba121",
                            "members.#": "0",
                            "name": "Analytics-activemq",
                            "policies.#": "1",
                            "policies.0": "anti-affinity",
                            "region": "RegionOne"
                        }
                    }
                },
                "powerdns_record.server_2vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2340657294": "10.48.22.88",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_2vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.456951071": "10.48.22.87",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2340657294": "10.48.22.88",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.456951071": "10.48.22.87",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2340657294": "10.48.22.88",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.456951071": "10.48.22.87",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2340657294": "10.48.22.88",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.456951071": "10.48.22.87",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2340657294": "10.48.22.88",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.456951071": "10.48.22.87",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2340657294": "10.48.22.88",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.456951071": "10.48.22.87",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2340657294": "10.48.22.88",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "activemq02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "activemq02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.456951071": "10.48.22.87",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "template_file.script_variables_server_2vol.0": {
                    "type": "template_file",
                    "primary": {
                        "id": "2e8a9c7d9f9f77fc0e89f9a139e44317d310f6f9ab3e709225a6151b198e4f8c",
                        "attributes": {
                            "id": "2e8a9c7d9f9f77fc0e89f9a139e44317d310f6f9ab3e709225a6151b198e4f8c",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=activemq\nNODEINDEX=1\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "1",
                            "vars.NODENAME": "activemq"
                        }
                    }
                },
                "template_file.script_variables_server_2vol.1": {
                    "type": "template_file",
                    "primary": {
                        "id": "7d6957f33b02536722fcd2af5bd6c535af37ca6539f16af7326202743fa19891",
                        "attributes": {
                            "id": "7d6957f33b02536722fcd2af5bd6c535af37ca6539f16af7326202743fa19891",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=activemq\nNODEINDEX=2\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "2",
                            "vars.NODENAME": "activemq"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "ms"
            ],
            "outputs": {},
            "resources": {}
        },
        {
            "path": [
                "root",
                "netezza"
            ],
            "outputs": {
                "fip1": "",
                "fip2": "",
                "fip3": "",
                "sg_name": ""
            },
            "resources": {}
        },
        {
            "path": [
                "root",
                "nginx"
            ],
            "outputs": {
                "fip1": "",
                "fip2": "",
                "fip3": "",
                "sg_name": "Analytics-nginx"
            },
            "resources": {
                "openstack_blockstorage_volume_v1.2vol_1.0": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "3d987033-94d2-4937-b60a-34d4bb9b7dbe",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on nginx01",
                            "id": "3d987033-94d2-4937-b60a-34d4bb9b7dbe",
                            "metadata.#": "0",
                            "name": " on nginx01",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_1.1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "20f0d678-444d-4f14-8e38-0b219d288f4f",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on nginx02",
                            "id": "20f0d678-444d-4f14-8e38-0b219d288f4f",
                            "metadata.#": "0",
                            "name": " on nginx02",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2.0": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "ddc3b9f0-ea6f-4788-ab8b-7d077cea1954",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on nginx01",
                            "id": "ddc3b9f0-ea6f-4788-ab8b-7d077cea1954",
                            "metadata.#": "0",
                            "name": " on nginx01",
                            "region": "RegionOne",
                            "size": "100",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2.1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "ac50bf98-6fdb-4884-b97c-e859b9c785d0",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on nginx02",
                            "id": "ac50bf98-6fdb-4884-b97c-e859b9c785d0",
                            "metadata.#": "0",
                            "name": " on nginx02",
                            "region": "RegionOne",
                            "size": "100",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol.0": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "55ffcc50-0b06-4609-8539-8979a9f43dfa",
                        "attributes": {
                            "access_ip_v4": "10.48.22.95",
                            "access_ip_v6": "",
                            "flavor_id": "114",
                            "flavor_name": "m1.xlarge",
                            "id": "55ffcc50-0b06-4609-8539-8979a9f43dfa",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "nginx01",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.95",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:36:0a:29",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.650207803.build_near_host_ip": "",
                            "scheduler_hints.650207803.different_host.#": "0",
                            "scheduler_hints.650207803.group": "deb5a1a4-6c74-4489-9396-20983701ee0c",
                            "scheduler_hints.650207803.query.#": "0",
                            "scheduler_hints.650207803.same_host.#": "0",
                            "scheduler_hints.650207803.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.3441825786": "Analytics-nginx",
                            "security_groups.3814588639": "default",
                            "user_data": "777ddbf0bcbd91c994bd2e532f66145a3336c4c1",
                            "volume.#": "2",
                            "volume.2887863088.device": "/dev/vdb",
                            "volume.2887863088.id": "3d987033-94d2-4937-b60a-34d4bb9b7dbe",
                            "volume.2887863088.volume_id": "3d987033-94d2-4937-b60a-34d4bb9b7dbe",
                            "volume.4181015780.device": "/dev/vdc",
                            "volume.4181015780.id": "ddc3b9f0-ea6f-4788-ab8b-7d077cea1954",
                            "volume.4181015780.volume_id": "ddc3b9f0-ea6f-4788-ab8b-7d077cea1954"
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol.1": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "56ac1f80-9cd7-443d-b763-2fdef1b852f1",
                        "attributes": {
                            "access_ip_v4": "10.48.22.96",
                            "access_ip_v6": "",
                            "flavor_id": "114",
                            "flavor_name": "m1.xlarge",
                            "id": "56ac1f80-9cd7-443d-b763-2fdef1b852f1",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "nginx02",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.96",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:56:f5:ed",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.650207803.build_near_host_ip": "",
                            "scheduler_hints.650207803.different_host.#": "0",
                            "scheduler_hints.650207803.group": "deb5a1a4-6c74-4489-9396-20983701ee0c",
                            "scheduler_hints.650207803.query.#": "0",
                            "scheduler_hints.650207803.same_host.#": "0",
                            "scheduler_hints.650207803.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.3441825786": "Analytics-nginx",
                            "security_groups.3814588639": "default",
                            "user_data": "e1e88a4319a3eacb689ef91791d217d1eec5705d",
                            "volume.#": "2",
                            "volume.3124841954.device": "/dev/vdb",
                            "volume.3124841954.id": "20f0d678-444d-4f14-8e38-0b219d288f4f",
                            "volume.3124841954.volume_id": "20f0d678-444d-4f14-8e38-0b219d288f4f",
                            "volume.3406505567.device": "/dev/vdc",
                            "volume.3406505567.id": "ac50bf98-6fdb-4884-b97c-e859b9c785d0",
                            "volume.3406505567.volume_id": "ac50bf98-6fdb-4884-b97c-e859b9c785d0"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.my_sg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "1a8e5bb3-f2cd-4020-b861-55725268483d",
                        "attributes": {
                            "description": "Security Group Via Terraform",
                            "id": "1a8e5bb3-f2cd-4020-b861-55725268483d",
                            "name": "Analytics-nginx",
                            "region": "RegionOne",
                            "rule.#": "0"
                        }
                    }
                },
                "openstack_compute_servergroup_v2.server": {
                    "type": "openstack_compute_servergroup_v2",
                    "primary": {
                        "id": "deb5a1a4-6c74-4489-9396-20983701ee0c",
                        "attributes": {
                            "id": "deb5a1a4-6c74-4489-9396-20983701ee0c",
                            "members.#": "0",
                            "name": "Analytics-nginx",
                            "policies.#": "1",
                            "policies.0": "anti-affinity",
                            "region": "RegionOne"
                        }
                    }
                },
                "powerdns_record.server_2vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3962164594": "10.48.22.95",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_2vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1965065416": "10.48.22.96",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3962164594": "10.48.22.95",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1965065416": "10.48.22.96",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3962164594": "10.48.22.95",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1965065416": "10.48.22.96",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3962164594": "10.48.22.95",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1965065416": "10.48.22.96",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3962164594": "10.48.22.95",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1965065416": "10.48.22.96",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3962164594": "10.48.22.95",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1965065416": "10.48.22.96",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.3962164594": "10.48.22.95",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "nginx02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "nginx02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1965065416": "10.48.22.96",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "template_file.script_variables_server_2vol.0": {
                    "type": "template_file",
                    "primary": {
                        "id": "51e8c52f309c6b179fd3569b34845b5329c913afc524b09d0278231a72021b87",
                        "attributes": {
                            "id": "51e8c52f309c6b179fd3569b34845b5329c913afc524b09d0278231a72021b87",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=nginx\nNODEINDEX=1\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "1",
                            "vars.NODENAME": "nginx"
                        }
                    }
                },
                "template_file.script_variables_server_2vol.1": {
                    "type": "template_file",
                    "primary": {
                        "id": "70babd82027789d459971881c7a707e22666f1c6e2bf9fdb5369c574a81f80ac",
                        "attributes": {
                            "id": "70babd82027789d459971881c7a707e22666f1c6e2bf9fdb5369c574a81f80ac",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=nginx\nNODEINDEX=2\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "2",
                            "vars.NODENAME": "nginx"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "saw"
            ],
            "outputs": {
                "sg_name": "Analytics-saw"
            },
            "resources": {
                "openstack_blockstorage_volume_v1.2vol_1.0": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "15748805-d4db-4d3f-9ac2-0546d153bb07",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on saw01",
                            "id": "15748805-d4db-4d3f-9ac2-0546d153bb07",
                            "metadata.#": "0",
                            "name": " on saw01",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_1.1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "cfe05d85-a738-4449-881f-7efbb43ab9f7",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on saw02",
                            "id": "cfe05d85-a738-4449-881f-7efbb43ab9f7",
                            "metadata.#": "0",
                            "name": " on saw02",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2.0": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "c76ee647-3dff-4452-8d3b-5f1cd2570b76",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on saw01",
                            "id": "c76ee647-3dff-4452-8d3b-5f1cd2570b76",
                            "metadata.#": "0",
                            "name": " on saw01",
                            "region": "RegionOne",
                            "size": "100",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2.1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "8e94affe-dea2-4157-8280-340b7ab7d60d",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on saw02",
                            "id": "8e94affe-dea2-4157-8280-340b7ab7d60d",
                            "metadata.#": "0",
                            "name": " on saw02",
                            "region": "RegionOne",
                            "size": "100",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol.0": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "c8cb0989-408d-47e9-98ed-1fbc2bca923b",
                        "attributes": {
                            "access_ip_v4": "10.48.22.85",
                            "access_ip_v6": "",
                            "flavor_id": "114",
                            "flavor_name": "m1.xlarge",
                            "id": "c8cb0989-408d-47e9-98ed-1fbc2bca923b",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "saw01",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.85",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:74:de:12",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.2866018479.build_near_host_ip": "",
                            "scheduler_hints.2866018479.different_host.#": "0",
                            "scheduler_hints.2866018479.group": "9db63b5a-fc4b-4b81-872a-bf33b220b3bd",
                            "scheduler_hints.2866018479.query.#": "0",
                            "scheduler_hints.2866018479.same_host.#": "0",
                            "scheduler_hints.2866018479.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.3814588639": "default",
                            "security_groups.415434518": "Analytics-saw",
                            "user_data": "bf819584ef7e574ea37191dbae3f7347c5ed73cf",
                            "volume.#": "2",
                            "volume.3437547998.device": "/dev/vdb",
                            "volume.3437547998.id": "15748805-d4db-4d3f-9ac2-0546d153bb07",
                            "volume.3437547998.volume_id": "15748805-d4db-4d3f-9ac2-0546d153bb07",
                            "volume.4004374543.device": "/dev/vdc",
                            "volume.4004374543.id": "c76ee647-3dff-4452-8d3b-5f1cd2570b76",
                            "volume.4004374543.volume_id": "c76ee647-3dff-4452-8d3b-5f1cd2570b76"
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol.1": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "003e7d87-2431-440d-9284-54ac7d794211",
                        "attributes": {
                            "access_ip_v4": "10.48.22.86",
                            "access_ip_v6": "",
                            "flavor_id": "114",
                            "flavor_name": "m1.xlarge",
                            "id": "003e7d87-2431-440d-9284-54ac7d794211",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "saw02",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.86",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:a4:1c:37",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.2866018479.build_near_host_ip": "",
                            "scheduler_hints.2866018479.different_host.#": "0",
                            "scheduler_hints.2866018479.group": "9db63b5a-fc4b-4b81-872a-bf33b220b3bd",
                            "scheduler_hints.2866018479.query.#": "0",
                            "scheduler_hints.2866018479.same_host.#": "0",
                            "scheduler_hints.2866018479.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.3814588639": "default",
                            "security_groups.415434518": "Analytics-saw",
                            "user_data": "855e94108692a85ebd75d99b139548bae9858958",
                            "volume.#": "2",
                            "volume.2053492459.device": "/dev/vdb",
                            "volume.2053492459.id": "8e94affe-dea2-4157-8280-340b7ab7d60d",
                            "volume.2053492459.volume_id": "8e94affe-dea2-4157-8280-340b7ab7d60d",
                            "volume.761786116.device": "/dev/vdc",
                            "volume.761786116.id": "cfe05d85-a738-4449-881f-7efbb43ab9f7",
                            "volume.761786116.volume_id": "cfe05d85-a738-4449-881f-7efbb43ab9f7"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.my_sg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "e2f8eaf0-6a44-404a-8253-ed35ce282527",
                        "attributes": {
                            "description": "Security Group Via Terraform",
                            "id": "e2f8eaf0-6a44-404a-8253-ed35ce282527",
                            "name": "Analytics-saw",
                            "region": "RegionOne",
                            "rule.#": "0"
                        }
                    }
                },
                "openstack_compute_servergroup_v2.server": {
                    "type": "openstack_compute_servergroup_v2",
                    "primary": {
                        "id": "9db63b5a-fc4b-4b81-872a-bf33b220b3bd",
                        "attributes": {
                            "id": "9db63b5a-fc4b-4b81-872a-bf33b220b3bd",
                            "members.#": "0",
                            "name": "Analytics-saw",
                            "policies.#": "1",
                            "policies.0": "anti-affinity",
                            "region": "RegionOne"
                        }
                    }
                },
                "powerdns_record.server_2vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.4113753139": "10.48.22.85",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_2vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1815852425": "10.48.22.86",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.4113753139": "10.48.22.85",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1815852425": "10.48.22.86",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.4113753139": "10.48.22.85",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1815852425": "10.48.22.86",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.4113753139": "10.48.22.85",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1815852425": "10.48.22.86",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.4113753139": "10.48.22.85",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1815852425": "10.48.22.86",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.4113753139": "10.48.22.85",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1815852425": "10.48.22.86",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic.0": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.4113753139": "10.48.22.85",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic.1": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "saw02.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "saw02.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.1815852425": "10.48.22.86",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "template_file.script_variables_server_2vol.0": {
                    "type": "template_file",
                    "primary": {
                        "id": "58851d79da85cb353851583963276ec4c799fe4be82da27e65f35e427fde2763",
                        "attributes": {
                            "id": "58851d79da85cb353851583963276ec4c799fe4be82da27e65f35e427fde2763",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=saw\nNODEINDEX=1\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "1",
                            "vars.NODENAME": "saw"
                        }
                    }
                },
                "template_file.script_variables_server_2vol.1": {
                    "type": "template_file",
                    "primary": {
                        "id": "b360a0f01845face4cb2e53092dc15b97bc63eec4f0e6d6145f2cac627650183",
                        "attributes": {
                            "id": "b360a0f01845face4cb2e53092dc15b97bc63eec4f0e6d6145f2cac627650183",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=saw\nNODEINDEX=2\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "2",
                            "vars.NODENAME": "saw"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "ssps"
            ],
            "outputs": {
                "sg_name": "Analytics-ssps"
            },
            "resources": {
                "openstack_blockstorage_volume_v1.2vol_1": {
                    "type": "openstack_blockstorage_volume_v1",
                    "primary": {
                        "id": "c7d93482-381a-4133-90af-b86fa0ba1593",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on ssps01",
                            "id": "c7d93482-381a-4133-90af-b86fa0ba1593",
                            "metadata.#": "0",
                            "name": " on ssps01",
                            "region": "RegionOne",
                            "size": "50",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_blockstorage_volume_v1.2vol_2": {
                    "type": "openstack_blockstorage_volume_v1",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1"
                    ],
                    "primary": {
                        "id": "15cfabb4-8a93-41d1-90d0-a63777854c58",
                        "attributes": {
                            "attachment.#": "0",
                            "availability_zone": "nova",
                            "description": " on ssps01",
                            "id": "15cfabb4-8a93-41d1-90d0-a63777854c58",
                            "metadata.#": "0",
                            "name": " on ssps01",
                            "region": "RegionOne",
                            "size": "100",
                            "snapshot_id": "",
                            "source_vol_id": "",
                            "volume_type": ""
                        }
                    }
                },
                "openstack_compute_instance_v2.server_2vol": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_blockstorage_volume_v1.2vol_1",
                        "openstack_blockstorage_volume_v1.2vol_2",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_floatingip_v2.fip",
                        "openstack_compute_secgroup_v2.my_sg",
                        "openstack_compute_servergroup_v2.server",
                        "template_file.script_variables_server_2vol"
                    ],
                    "primary": {
                        "id": "45a7dbbc-dfbb-4152-a978-8c1e7af6576d",
                        "attributes": {
                            "access_ip_v4": "10.48.22.84",
                            "access_ip_v6": "",
                            "flavor_id": "116",
                            "flavor_name": "m4.2xlarge",
                            "id": "45a7dbbc-dfbb-4152-a978-8c1e7af6576d",
                            "image_id": "7b218474-aa98-429e-91d9-c573ea30cb96",
                            "image_name": "CentOS-6.7-x86_64",
                            "key_pair": "velocity",
                            "metadata.#": "1",
                            "metadata.depends_id": "",
                            "name": "ssps01",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "10.48.22.84",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "fa:16:3e:c5:81:75",
                            "network.0.name": "Analytics_Network",
                            "network.0.port": "",
                            "network.0.uuid": "b5d4e7a0-d281-4bf9-9278-b6e0d41b21d6",
                            "region": "RegionOne",
                            "scheduler_hints.#": "1",
                            "scheduler_hints.698754332.build_near_host_ip": "",
                            "scheduler_hints.698754332.different_host.#": "0",
                            "scheduler_hints.698754332.group": "b350b4b8-6c15-4e0a-a98c-7e5e736a6126",
                            "scheduler_hints.698754332.query.#": "0",
                            "scheduler_hints.698754332.same_host.#": "0",
                            "scheduler_hints.698754332.target_cell": "",
                            "security_groups.#": "2",
                            "security_groups.3206633604": "Analytics-ssps",
                            "security_groups.3814588639": "default",
                            "user_data": "739cc4c68b08e770ca15e3036b39e5b93c270cd3",
                            "volume.#": "2",
                            "volume.1926969341.device": "/dev/vdb",
                            "volume.1926969341.id": "c7d93482-381a-4133-90af-b86fa0ba1593",
                            "volume.1926969341.volume_id": "c7d93482-381a-4133-90af-b86fa0ba1593",
                            "volume.2298749751.device": "/dev/vdc",
                            "volume.2298749751.id": "15cfabb4-8a93-41d1-90d0-a63777854c58",
                            "volume.2298749751.volume_id": "15cfabb4-8a93-41d1-90d0-a63777854c58"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.my_sg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "c634b92b-b193-4e1a-817b-c3843f4bf85d",
                        "attributes": {
                            "description": "Security Group Via Terraform",
                            "id": "c634b92b-b193-4e1a-817b-c3843f4bf85d",
                            "name": "Analytics-ssps",
                            "region": "RegionOne",
                            "rule.#": "0"
                        }
                    }
                },
                "openstack_compute_servergroup_v2.server": {
                    "type": "openstack_compute_servergroup_v2",
                    "primary": {
                        "id": "b350b4b8-6c15-4e0a-a98c-7e5e736a6126",
                        "attributes": {
                            "id": "b350b4b8-6c15-4e0a-a98c-7e5e736a6126",
                            "members.#": "0",
                            "name": "Analytics-ssps",
                            "policies.#": "1",
                            "policies.0": "anti-affinity",
                            "region": "RegionOne"
                        }
                    }
                },
                "powerdns_record.server_2vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "ssps01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2184565925": "10.48.22.84",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "ssps01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2184565925": "10.48.22.84",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_3vol_2nic": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "ssps01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2184565925": "10.48.22.84",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "ssps01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2184565925": "10.48.22.84",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_4vol_2nic": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "ssps01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2184565925": "10.48.22.84",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "ssps01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2184565925": "10.48.22.84",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "powerdns_record.server_5vol_2nic": {
                    "type": "powerdns_record",
                    "depends_on": [
                        "openstack_compute_instance_v2.server_2vol"
                    ],
                    "primary": {
                        "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                        "attributes": {
                            "id": "ssps01.bda.poc.velocity-va.sncrcorp.net:::A",
                            "name": "ssps01.bda.poc.velocity-va.sncrcorp.net",
                            "records.#": "1",
                            "records.2184565925": "10.48.22.84",
                            "ttl": "300",
                            "type": "A",
                            "zone": "bda.poc.velocity-va.sncrcorp.net"
                        }
                    }
                },
                "template_file.script_variables_server_2vol": {
                    "type": "template_file",
                    "primary": {
                        "id": "159df34ce83fb9322a0614dfa1eb4c17ef818682cf390faaa02553c7de30a361",
                        "attributes": {
                            "id": "159df34ce83fb9322a0614dfa1eb4c17ef818682cf390faaa02553c7de30a361",
                            "rendered": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.31' -cx /etc/resolv.conf\nex -c '$a|nameserver 10.48.0.32' -cx /etc/resolv.conf\nex -c '$a|search bda.poc.velocity-va.sncrcorp.net' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"CentOS-6.7-x86_64\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'1400'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=/opt\nmountpoint1=\nmountpoint2=\nmountpoint3=\nmountpoint4=\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=https://chef-pabet-redirect.sncrcorp.net:443\nCHEF_PROXY=\nCHEF_ENV=velbda-poc\nCHEF_ROLES=\nCHEF_ORG=vel-bda\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=bda.poc.velocity-va.sncrcorp.net\nNODENAME=ssps\nNODEINDEX=1\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "template": "#!/bin/bash\nexport web_address=http://10.49.0.106\nexec \u003e \u003e(tee /var/log/userdata.log | logger -t userdata -s 2\u003e/dev/console) 2\u003e\u00261\n#export http_proxy=http://10.4.54.45:3128\n#export no_proxy=169.254.169.254\n#ex -sc '2i|proxy = http://10.4.54.45:3128' -cx /etc/yum.conf\n#ex -c '$a|export http_proxy=http://10.4.54.45:3128' -cx /etc/bashrc\n#ex -c '$a|export no_proxy=169.254.169.254' -cx /etc/bashrc\nrm /etc/resolv.conf\ntouch /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER1}' -cx /etc/resolv.conf\nex -c '$a|nameserver ${NAME_SERVER2}' -cx /etc/resolv.conf\nex -c '$a|search ${DOMAIN}' -cx /etc/resolv.conf\nlogger -s -t userdata 'check image if CoreOS change MTU'\nif [[ \"${IMAGE_NAME}\" =~ \"CoreOS\" ]]; then\ncd /etc/udev/rules.d\necho 'ACTION==\"add\", SUBSYSTEM==\"net\", KERNEL==\"eth0\", ATTR{mtu}=\"'${MTU_VALUE}'\"' \u003e /etc/udev/rules.d/10-net.rules\nsystemctl restart systemd-udev-trigger.service;\nfi\ncd /root\nexport HOME=/root\nexport PATH=$PATH:/usr/local/sbin\n\nlogger -s -t userdata 'create the environment descriptor file'\n# SYNC bootstrap scripts\nlogger -s -t userdata 'download Mount Disks script'\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/mount-disks.sh\nmountpoint0=${MOUNT_POINT1}\nmountpoint1=${MOUNT_POINT2}\nmountpoint2=${MOUNT_POINT3}\nmountpoint3=${MOUNT_POINT4}\nmountpoint4=${MOUNT_POINT5}\nexport mountpoint0 mountpoint1 mountpoint2 mountpoint3 mountpoint4\necho \"first Mount Point is:\" $mountpoint0\nlogger -s -t userdata 'set permission on mount-disks script'\nchmod 0544 mount-disks.sh\nls -l \nsource mount-disks.sh\ncurl -O -v -H \"Cache-Control: no-cache\"  $web_address/bootstrap/install-chef-client.sh\ncurl -O -v -H \"Cache-Control: no-cache\" $web_address/bootstrap/configure-network.sh\ncurl -O -v $web_address/bootstrap/sncr-open-versions.sh\nchmod 0544 *.sh\nchown *.sh\n# yum securit update\n#logger -s -t userdata 'yum security updates'\n#yum -y install yum-plugin-security\n#yum --security update -y\n##\nlogger -s -t userdata 'move the versions file to /usr/local/etc'\n##\n#logger -s -t userdata 'move the env file to /usr/local/etc'\n# mv -f /tmp/bootstrap/sncr-open-env.sh /usr/local/etc/.\nCHEF_SERVER=${CHEF_SERVER}\nCHEF_PROXY=${CHEF_PROXY}\nCHEF_ENV=${CHEF_ENV}\nCHEF_ROLES=${CHEF_ROLES}\nCHEF_ORG=${CHEF_ORG}\nexport CHEF_SERVER CHEF_PROXY CHEF_ENV CHEF_ROLES CHEF_ORG\nDOMAIN=${DOMAIN}\nNODENAME=${NODENAME}\nNODEINDEX=${NODEINDEX}\nexport DOMAIN NODENAME NODEINDEX\n./configure-network.sh\n./install-chef-client.sh\n#echo \"Initiating a reboot\"\n#sync\n#sync\n#reboot\n",
                            "vars.#": "17",
                            "vars.CHEF_ENV": "velbda-poc",
                            "vars.CHEF_ORG": "vel-bda",
                            "vars.CHEF_PROXY": "",
                            "vars.CHEF_ROLES": "",
                            "vars.CHEF_SERVER": "https://chef-pabet-redirect.sncrcorp.net:443",
                            "vars.DOMAIN": "bda.poc.velocity-va.sncrcorp.net",
                            "vars.IMAGE_NAME": "CentOS-6.7-x86_64",
                            "vars.MOUNT_POINT1": "/opt",
                            "vars.MOUNT_POINT2": "",
                            "vars.MOUNT_POINT3": "",
                            "vars.MOUNT_POINT4": "",
                            "vars.MOUNT_POINT5": "",
                            "vars.MTU_VALUE": "1400",
                            "vars.NAME_SERVER1": "10.48.0.31",
                            "vars.NAME_SERVER2": "10.48.0.32",
                            "vars.NODEINDEX": "1",
                            "vars.NODENAME": "ssps"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "web"
            ],
            "outputs": {},
            "resources": {}
        }
    ]
}
